/*
 * joystick.c
 *
 *  Created on: Apr 12, 2024
 *      Author: myhg1
 */
#include "joystick.h"

void dataTransmit(uint16_t Xdata, uint16_t Ydata){
	uint8_t tx_Data[16]={0,};
	tx_Data[0] = Xdata>>8;
	tx_Data[4] = Xdata;
	tx_Data[8] = Ydata>>8;
	tx_Data[12] = Ydata;

	static uint8_t temp=0x00;
	HAL_UART_Transmit_IT(&huart1, &temp, 1);
	temp++;
//	HAL_UART_Transmit_IT(&huart1, &tx_Data[0], sizeof(tx_Data));
//	for(int i=0; i<16;i+=4){
//		HAL_UART_Transmit_IT(&huart1, tx_Data[i], 1);
//	}
//	printf("%d,%d,%d,%d\n",tx_Data[0],tx_Data[4],tx_Data[8],tx_Data[12]);
}

void adcDataMaxMin(uint16_t *data) {
	if (*data > 4096) {
		*data = 4096;
	}
	if (*data < 15) {
		*data = 0;
	}
}

long map(long x, long in_min, long in_max, long out_min, long out_max) {
	return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
}

